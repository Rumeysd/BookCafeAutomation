<abp-modal [(visible)]="isModalOpen" [busy]="isBusy">
  
  <ng-template #header>
    <h3>{{ '::NewBook' | abpLocalization }}</h3>
  </ng-template>

  <ng-template #body>
    <form [formGroup]="form" (ngSubmit)="save()">
      
      <div class="mb-3">
        <label class="form-label">{{ '::BookName' | abpLocalization }}</label>
        <input type="text" class="form-control" formControlName="name" 
               [ngClass]="{'is-invalid': form.get('name').invalid && form.get('name').touched}">
        <div *ngIf="form.get('name').errors?.['required']" class="invalid-feedback">
          Kitap adı zorunludur.
        </div>
      </div>

      <div class="mb-3">
        <label class="form-label">{{ '::Author' | abpLocalization }}</label>
        <select class="form-select" formControlName="authorId">
          <option [ngValue]="null">Seçiniz...</option>
          <option *ngFor="let author of authors" [ngValue]="author.id">
            {{ author.name }}
          </option>
        </select>
      </div>

      <div class="mb-3">
        <label class="form-label">{{ '::Category' | abpLocalization }}</label>
        <select class="form-select" formControlName="categoryId">
          <option [ngValue]="null">Seçiniz...</option>
          <option *ngFor="let category of categories" [ngValue]="category.id">
            {{ category.name }}
          </option>
        </select>
      </div>

      <div class="row">
        <div class="col">
           <div class="mb-3">
            <label class="form-label">{{ '::PageCount' | abpLocalization }}</label>
            <input type="number" class="form-control" formControlName="pageCount">
          </div>
        </div>
      </div>

    </form>
  </ng-template>

  <ng-template #footer>
    <button type="button" class="btn btn-secondary" (click)="isModalOpen = false" abpClose>
       {{ '::Cancel' | abpLocalization }}
    </button>
    <button type="button" class="btn btn-primary" (click)="save()" [disabled]="form.invalid || isBusy">
       <i class="fa fa-check me-1"></i> {{ '::Save' | abpLocalization }}
    </button>
  </ng-template>

</abp-modal>